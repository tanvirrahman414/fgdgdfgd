Goal

Provide a concise, copy-pasteable workflow to deploy this project to cPanel for both static SPA and Node app scenarios.

Quick decisions

- Static SPA (recommended if you don't need server-side APIs): build the Vite static output and upload `dist/` to `public_html/` or a subfolder.
- Node app (if you need server/API/auth): upload project to cPanel, use "Setup Node.js App" (Passenger) or Application Manager, install deps and run the server bundle.

Prerequisites (local)

- Node.js (same major version as your host supports)
- npm or pnpm
- SSH/SCP or FTP credentials for your cPanel account (or use cPanel File Manager)

Build steps (choose one)

1) Static SPA (simple)

```bash
# build static Vite output (repo has a script)
npm run build:webuzo
# or if you add the suggested script
npm run build:static
```

- After the build, `dist/` will contain the static site to upload.

2) Node app (full server + client)

```bash
npm run build
# This repo's `build` is the react-router server build; it produces server + client output.
```

- Upload the full project (or built output depending on your workflow) and use cPanel's Node app manager.

Prepare artifacts for upload

- Static: zip the contents of `dist/` (not the folder itself) so extracting into `public_html/` places files in the web root.
- Node: upload entire project (or push via git/SSH). Ensure `package.json` and `package-lock.json`/`pnpm-lock.yaml` are present on the server.

PowerShell zip helper (Windows)

- Use the included script `scripts/zip-dist.ps1` to create a timestamped zip of `dist/`.

Upload methods

1) cPanel File Manager (GUI)
- Login to cPanel → File Manager → navigate to `public_html` or subfolder. Click Upload → select the zip file → after upload, select the zip → Extract.

2) SCP (recommended if you have SSH)

```bash
# copy zip to your home directory
scp dist.zip user@your-server.example.com:~/
ssh user@your-server.example.com
# extract into public_html or subfolder
unzip dist.zip -d ~/public_html/
```

3) FTP
- Use your FTP client to upload the zip and extract via File Manager, or upload files directly into `public_html`.

Node app setup in cPanel

- In cPanel, open "Setup Node.js App" (or "Application Manager").
- Create a new application with these values:
  - Node version: match your local Node major version.
  - Application root: path to uploaded app (e.g., `~/apps/my-app`).
  - Application startup file: point to the server bundle generated by the build (commonly `build/server/index.js` or similar). If unsure, inspect the `build/` output after `npm run build`.
- Click "Setup" then use the provided Terminal/SSH to `cd` into the app folder and run `npm install` or `npm ci`.
- Set environment variables in the UI (DATABASE_URL, AUTH_SECRET, any `NEXT_PUBLIC_*` vars used by the client).
- Start the app from the UI.

Common `.htaccess` needs (static SPA)

Place this in `public_html/.htaccess` (or the site root). It rewrites non-file requests to `index.html` and adds basic caching headers.

See `deploy/.htaccess` (in this repo) for the snippet.

Troubleshooting

- 404 on refresh: ensure `.htaccess` exists and is active.
- Asset 404s: ensure `base` in `vite.config.ts` matches the subpath (e.g., `/project/`) and rebuild.
- Node not starting: check cPanel logs, ensure correct start file and Node version. Run `npm install` on the server.
- Env vars missing: add them in the cPanel app configuration.

Next steps I can take for you

- Generate the upload commands (SCP/rsync) tailored to your server & path.
- Adjust `vite.config.ts` to set `base` for a subpath and add `build:static` script to `package.json`.
- Walk through the cPanel UI steps interactively (screenshots/fields) if you tell me your host.

If you want me to proceed with any of the next steps above, tell me which one.